---
description: 
globs: 
alwaysApply: true
---
# FastAPI í”„ë¡œì íŠ¸ êµ¬ì¡° ê°€ì´ë“œ

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”
Python FastAPI ê¸°ë°˜ ë°±ì—”ë“œ í”„ë¡œì íŠ¸ì—ì„œ ê¸°ëŠ¥ ë‹¨ìœ„ ë””ë ‰í† ë¦¬ êµ¬ì¡°ë¥¼ ìœ ì§€í•˜ê³ , ì¼ê´€ì„± ìˆëŠ” ê°œë°œ ë¬¸í™”ë¥¼ ì •ì°©ì‹œí‚¤ê¸° ìœ„í•œ ê·œì¹™ë“¤ì…ë‹ˆë‹¤.

## ğŸ“¦ ê¸°ë³¸ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
app/
â”œâ”€â”€ features/             â† ëª¨ë“  ë¹„ì¦ˆë‹ˆìŠ¤ ê¸°ëŠ¥ì„ í¬í•¨í•˜ëŠ” íŒ¨í‚¤ì§€
â”‚   â”œâ”€â”€ <feature>/        â† ë„ë©”ì¸ ë˜ëŠ” ê¸°ëŠ¥ëª… (ì˜ˆ: users, items)
â”‚   â”‚   â”œâ”€â”€ router.py     â† API ë¼ìš°í„°
â”‚   â”‚   â”œâ”€â”€ service.py    â† ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ schema.py     â† ìš”ì²­/ì‘ë‹µ Pydantic ìŠ¤í‚¤ë§ˆ
â”‚   â”‚   â”œâ”€â”€ model.py      â† ORM ëª¨ë¸
â”‚   â”‚   â”œâ”€â”€ repository.py â† DB ì ‘ê·¼ ë¡œì§
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â””â”€â”€ __init__.py       â† Features íŒ¨í‚¤ì§€ ì´ˆê¸°í™”
â”œâ”€â”€ core/                 â† ì„¤ì •, ë³´ì•ˆ, ì˜ì¡´ì„± ì£¼ì…
â”œâ”€â”€ db/                   â† DB ì´ˆê¸°í™” ë° session
â””â”€â”€ main.py               â† FastAPI app entrypoint
```

## ğŸ›  íŒŒì¼ë³„ êµ¬ì¡° ê·œì¹™

### Router íŒŒì¼ (`app/features/**/router.py`)
- **í•„ìˆ˜ í¬í•¨**: FastAPI APIRouter ì¸ìŠ¤í„´ìŠ¤
- **í‘œì¤€ êµ¬ì¡°**:
```python
from fastapi import APIRouter

router = APIRouter()

@router.get("/endpoint")
def endpoint_function():
    pass
```

### Service íŒŒì¼ (`app/features/**/service.py`)
- **ì—­í• **: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬
- **í•„ìˆ˜ í¬í•¨**: í•˜ë‚˜ ì´ìƒì˜ ì„œë¹„ìŠ¤ í•¨ìˆ˜ ë˜ëŠ” í´ë˜ìŠ¤
- **í‘œì¤€ êµ¬ì¡°**:
```python
def get_service_function():
    pass

class ServiceClass:
    pass
```

### Schema íŒŒì¼ (`app/features/**/schema.py`)
- **ì—­í• **: ìš”ì²­/ì‘ë‹µ ë°ì´í„° ê²€ì¦
- **í•„ìˆ˜ í¬í•¨**: Pydantic BaseModel
- **í‘œì¤€ êµ¬ì¡°**:
```python
from pydantic import BaseModel

class RequestSchema(BaseModel):
    pass

class ResponseSchema(BaseModel):
    pass
```

### Model íŒŒì¼ (`app/features/**/model.py`)
- **ì—­í• **: ë°ì´í„°ë² ì´ìŠ¤ ORM ëª¨ë¸ ì •ì˜
- **í•„ìˆ˜ í¬í•¨**: SQLAlchemy ëª¨ë¸ê³¼ Base
- **í‘œì¤€ êµ¬ì¡°**:
```python
from sqlalchemy import Column, Integer, String
from sqlalchemy.ext.declarative import declarative_base

Base = declarative_base()

class ModelClass(Base):
    __tablename__ = "table_name"
    pass
```

### Repository íŒŒì¼ (`app/features/**/repository.py`)
- **ì—­í• **: ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼ ë¡œì§
- **í•„ìˆ˜ í¬í•¨**: CRUD ì‘ì—… í•¨ìˆ˜
- **í‘œì¤€ êµ¬ì¡°**:
```python
def get_item():
    pass

def create_item():
    pass
```

### Main íŒŒì¼ (`app/main.py`)
- **ì—­í• **: FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ ì§„ì…ì 
- **í•„ìˆ˜ í¬í•¨**: FastAPI ì¸ìŠ¤í„´ìŠ¤ì™€ ë¼ìš°í„° ë“±ë¡
- **í‘œì¤€ êµ¬ì¡°**:
```python
from fastapi import FastAPI

app = FastAPI()

app.include_router(router)
```

## âœ… ê°œë°œ ê·œì¹™

### 1. Features êµ¬ì¡° ê·œì¹™
- ëª¨ë“  ë¹„ì¦ˆë‹ˆìŠ¤ ê¸°ëŠ¥ì€ `app/features/` ë””ë ‰í† ë¦¬ í•˜ìœ„ì— ìœ„ì¹˜
- ê° ê¸°ëŠ¥ë³„ ë””ë ‰í† ë¦¬ëŠ” ë‹¤ìŒ íŒŒì¼ë“¤ì„ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤:
  - `router.py`
  - `service.py`
  - `schema.py`
  - `model.py`
  - `repository.py`
  - `__init__.py`

### 2. ë„¤ì´ë° ì»¨ë²¤ì…˜
- Features ë””ë ‰í† ë¦¬ëª…: ì†Œë¬¸ì, ì–¸ë”ìŠ¤ì½”ì–´ ì‚¬ìš© (ì˜ˆ: `user_management`)
- íŒŒì¼ëª…: í‘œì¤€ íŒŒì¼ëª… ì‚¬ìš© (`router.py`, `service.py` ë“±)
- í´ë˜ìŠ¤ëª…: PascalCase (ì˜ˆ: `UserService`)
- í•¨ìˆ˜ëª…: snake_case (ì˜ˆ: `get_user_by_id`)
- Import ê²½ë¡œ: `from app.features.users.service import UserService`

### 3. ì˜ì¡´ì„± ì£¼ì… íŒ¨í„´
- `core/` ë””ë ‰í† ë¦¬ì—ì„œ ì˜ì¡´ì„± ê´€ë¦¬
- ê° ë ˆì´ì–´ ê°„ ì˜ì¡´ì„±ì€ ëª…í™•íˆ ë¶„ë¦¬
- ë°ì´í„°ë² ì´ìŠ¤ ì„¸ì…˜ì€ ì˜ì¡´ì„± ì£¼ì…ìœ¼ë¡œ ê´€ë¦¬

### 4. ì˜¤ë¥˜ ì²˜ë¦¬
- ê° ë ˆì´ì–´ì—ì„œ ì ì ˆí•œ ì˜ˆì™¸ ì²˜ë¦¬
- HTTP ìƒíƒœ ì½”ë“œì™€ ì¼ê´€ì„± ìˆëŠ” ì˜¤ë¥˜ ì‘ë‹µ
- ë¡œê¹… ì‹œìŠ¤í…œ í™œìš©

## ğŸ’¡ ê°œë°œ íŒ

1. **í…œí”Œë¦¿ í™œìš©**: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ ê¸°ì¡´ êµ¬ì¡°ë¥¼ ì°¸ê³ í•˜ì—¬ ì¼ê´€ì„± ìœ ì§€
2. **ì˜ì¡´ì„± ë¶„ë¦¬**: ê° íŒŒì¼ì˜ ì—­í• ì„ ëª…í™•íˆ ë¶„ë¦¬í•˜ì—¬ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ ì½”ë“œ ì‘ì„±
3. **ë¬¸ì„œí™”**: API ë¬¸ì„œ ìë™ ìƒì„±ì„ ìœ„í•œ docstring ì‘ì„±
4. **íƒ€ì… íŒíŠ¸**: Python íƒ€ì… íŒíŠ¸ë¥¼ í™œìš©í•˜ì—¬ ì½”ë“œì˜ ê°€ë…ì„±ê³¼ ì•ˆì •ì„± í–¥ìƒ

ì´ ê·œì¹™ë“¤ì„ ë”°ë¥´ë©´ íŒ€ ì „ì²´ê°€ ì¼ê´€ì„± ìˆëŠ” ì½”ë“œ êµ¬ì¡°ë¥¼ ìœ ì§€í•  ìˆ˜ ìˆìœ¼ë©°, í”„ë¡œì íŠ¸ì˜ í™•ì¥ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì„ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
